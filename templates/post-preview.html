{% extends "simple-dev-blog/templates/post-preview.html" %}

{% macro post_preview(post) %}
  <div class="post-preview">
    <h3 class="post-title">
      <a href="{{ post.permalink }}">{{ post.title }}</a>
      {% if post.extra.author %}
        <small>{{ post.extra.author }}</small>
      {% endif %}
    </h3>
    <small>
      {% if post.word_count > 0 -%}
        {{ post.date| date(format="%B %d, %Y") }} - {{ post.word_count }} words - {{ post.reading_time }} mins
      {% else %}
        {{ post.date| date(format="%B %d, %Y") }}
      {%- endif %}
    </small>
    <div class="summary">
      {% if post.summary -%}
        {{ post.summary | striptags }}
      {% else %}
        {{ post.content | safe | striptags | truncate(length=200) }}
      {%- endif %}

      {% if post.content | length > 0 -%}
        <a href="{{ post.permalink }}">read more</a>
      {%- endif %}
    </div>
  </div>
{% endmacro input %}
