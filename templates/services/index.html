{% extends "base.html" %}
{% import "partials/macros.html" as macros %}

{% block title %}
{{ section.title }}
{% endblock %}

{% block posthead %}
<link rel="preload" href="{{ get_url(path='github-stars.js') | safe }}" as="script">
{% endblock posthead %}

{% block content %}
<article class="projects-page service-page">
  <!-- Hero Section -->
  <header class="projects-hero service-hero">
    <h1>{{ trans(key="svc_services", lang=lang) }}</h1>
    <p class="projects-hero__subtitle service-hero__subtitle">
      {% if lang == "es" %}Con más de 14 años en desarrollo de software, ayudo a empresas y particulares a estar online con sitios web rápidos y profesionales, y ayudo a equipos de desarrollo a mejorar con talleres prácticos de testing y refactoring. Si necesitas presencia web o quieres potenciar tus habilidades, puedo ayudarte.{% else %}With 14+ years in software development, I help businesses and individuals get online with fast, professional websites and help dev teams level up through hands-on workshops on testing and refactoring. Whether you need a web presence or want to sharpen your skills, I can help.{% endif %}
    </p>
  </header>

  <!-- Services Section -->
  <section class="projects-services" id="services">
    <div class="services-grid">
      <a href="{% if lang == 'es' %}/es/services/web-development/{% else %}/services/web-development/{% endif %}" class="service-card">
        <div class="service-card__header">
          <div class="service-card__icon">
            <i class="fa-solid fa-globe"></i>
          </div>
          <span class="service-card__more">{{ trans(key="svc_learn_more", lang=lang) }} <i class="fa-solid fa-arrow-right"></i></span>
        </div>
        <h3>{{ trans(key="svc_static_websites", lang=lang) }}</h3>
        <p>{% if lang == "es" %}Landing pages, portfolios, sitios corporativos. Rápidos, accesibles, fáciles de mantener.{% else %}Landing pages, portfolios, company sites. Fast, accessible, easy to maintain.{% endif %}</p>
        <span class="service-card__price">{{ trans(key="svc_request_quote", lang=lang) }}</span>
      </a>

      <a href="{% if lang == 'es' %}/es/services/team-workshops/{% else %}/services/team-workshops/{% endif %}" class="service-card">
        <div class="service-card__header">
          <div class="service-card__icon">
            <i class="fa-solid fa-code"></i>
          </div>
          <span class="service-card__more">{{ trans(key="svc_learn_more", lang=lang) }} <i class="fa-solid fa-arrow-right"></i></span>
        </div>
        <h3>{{ trans(key="svc_workshops", lang=lang) }}</h3>
        <p>{% if lang == "es" %}Sesiones de equipo sobre TDD, refactoring y pair programming a través de katas.{% else %}Team sessions on TDD, refactoring, and pair programming through katas.{% endif %}</p>
        <span class="service-card__price">{{ trans(key="svc_request_info", lang=lang) }}</span>
      </a>

    </div>

    <div class="services-sessions" id="voucher">
      <div class="sessions-content">
        <h3><i class="fa-solid fa-gift"></i> {{ trans(key="svc_team_gifts", lang=lang) }}</h3>
        <p>{% if lang == "es" %}¿Conoces a alguien que <a href="/es/services/web-development/#everywebsite">necesita una web</a> o un equipo que se beneficiaría de un taller? Contáctame para opciones.{% else %}Know someone who <a href="/services/web-development/#everywebsite">needs a website</a> or a team that would benefit from a workshop? Contact me to discuss options.{% endif %}</p>
      </div>
      <div class="sessions-actions">
        <a href="mailto:me@chemaclass.es?subject={% if lang == 'es' %}Consulta%20Vale%20Regalo&body=Hola%20Chema,%0A%0AMe%20gustaría%20solicitar%20un%20vale%20regalo.%0A%0ATipo%20de%20vale:%0ANombre%20del%20destinatario:%0A%0AGracias!{% else %}Gift%20Voucher%20Inquiry&body=Hi%20Chema,%0A%0AI'd%20like%20to%20request%20a%20gift%20voucher.%0A%0AType%20of%20voucher:%0ARecipient%20name:%0A%0AThanks!{% endif %}" class="sessions-cta">
          <i class="fa-solid fa-envelope"></i> {{ trans(key="svc_request_voucher", lang=lang) }}
        </a>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="services-faq" id="faq">
    <h2 class="services-faq__title">{{ trans(key="svc_faq", lang=lang) }}</h2>
    <div class="services-faq__list">
      <div class="services-faq__item">
        <button class="services-faq__question" aria-expanded="false" onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); this.nextElementSibling.classList.toggle('open')">
          {% if lang == "es" %}¿Cuánto tiempo tarda un sitio web?{% else %}How long does a website take?{% endif %}
          <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="services-faq__answer">
          {% if lang == "es" %}Normalmente 2-4 semanas desde el primer contacto hasta el lanzamiento. Sitios más complejos con contenido personalizado pueden tardar un poco más.{% else %}Typically 2-4 weeks from first contact to launch. More complex sites with custom content may take a bit longer.{% endif %}
        </div>
      </div>
      <div class="services-faq__item">
        <button class="services-faq__question" aria-expanded="false" onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); this.nextElementSibling.classList.toggle('open')">
          {% if lang == "es" %}¿Puedo editar el contenido yo mismo?{% else %}Can I edit the content myself?{% endif %}
          <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="services-faq__answer">
          {% if lang == "es" %}Sí. Los sitios estáticos usan archivos Markdown simples que puedes editar. WordPress incluye un panel de control completo. Te enseño a usar ambos.{% else %}Yes. Static sites use simple Markdown files you can edit. WordPress includes a full dashboard. I'll teach you to use either.{% endif %}
        </div>
      </div>
      <div class="services-faq__item">
        <button class="services-faq__question" aria-expanded="false" onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); this.nextElementSibling.classList.toggle('open')">
          {% if lang == "es" %}¿Qué incluye un sitio web típico?{% else %}What's included in a typical website?{% endif %}
          <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="services-faq__answer">
          {% if lang == "es" %}4-5 páginas (inicio, sobre mí, contacto y un par de páginas personalizadas), diseño responsive, SEO básico, seguridad HTTPS, optimización de rendimiento y analíticas.{% else %}4-5 pages (homepage, about, contact, and a couple of custom pages), responsive design, SEO fundamentals, HTTPS security, performance optimization, and analytics.{% endif %}
        </div>
      </div>
      <div class="services-faq__item">
        <button class="services-faq__question" aria-expanded="false" onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); this.nextElementSibling.classList.toggle('open')">
          {% if lang == "es" %}¿Ofreces mantenimiento continuo?{% else %}Do you offer ongoing maintenance?{% endif %}
          <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="services-faq__answer">
          {% if lang == "es" %}Sí. Los sitios estáticos necesitan mantenimiento mínimo. WordPress requiere actualizaciones regulares. También ayudo con cambios puntuales. Contáctame para más detalles.{% else %}Yes. Static sites need minimal maintenance. WordPress requires regular updates. I also help with one-off changes. Contact me for details.{% endif %}
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Tabs -->
  <section class="projects-tabs" id="projects">
    <div class="tabs-nav" role="tablist" aria-label="{% if lang == 'es' %}Categorías de proyectos{% else %}Project categories{% endif %}">
      <button class="tab-btn active" data-tab="featured" role="tab" aria-selected="true" aria-controls="tab-featured" id="btn-featured" tabindex="0">
        <i class="fa-solid fa-star"></i> {{ trans(key="svc_featured", lang=lang) }}
      </button>
      <button class="tab-btn" data-tab="more" role="tab" aria-selected="false" aria-controls="tab-more" id="btn-more" tabindex="-1">
        <i class="fa-solid fa-code"></i> {{ trans(key="svc_more_projects", lang=lang) }}
      </button>
      <button class="tab-btn" data-tab="websites" role="tab" aria-selected="false" aria-controls="tab-websites" id="btn-websites" tabindex="-1">
        <i class="fa-solid fa-globe"></i> {{ trans(key="svc_websites", lang=lang) }}
      </button>
    </div>

    <!-- Featured Projects Tab -->
    <div class="tab-panel active" id="featured" role="tabpanel" aria-labelledby="btn-featured">
      <div class="projects-featured__grid">
        {% for project in section.extra.headliners %}
        <a href="https://github.com/{{ project.github }}" target="_blank" rel="noopener noreferrer" class="project-card project-card--featured" data-repo="{{ project.github }}">
          <div class="project-header">
            <span class="project-icon">
              {% if project.icon == "bashunit" %}
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 362.8 362.8"><path d="M317.5 0H45.4C20.3 0 0 20.3 0 45.4v272.1c0 25 20.3 45.4 45.4 45.4h272.1c25 0 45.4-20.3 45.4-45.4V45.4C362.8 20.3 342.5 0 317.5 0z" fill="#2e3436"/><path d="M259.3 317.5c11.2-4 21.6-10.1 30.5-17.9 4.9 10.9 15.7 17.9 27.6 17.9h-58.1zM226.8 45.3h-90.7C86 45.3 45.3 86 45.3 136.1v38.3c12.5-34.8 43.9-59.4 80.7-63.3.6-17.5 2.8-35 6.8-52.1a5.68 5.68 0 0 1 4.5-4.3c3.1-.5 6 1.5 6.6 4.6 3 16.8 10.6 32.5 22 45.2 1.6 1.8 2.9 3.9 3.9 6.1h5.4c2.4-21.3 12.9-40.9 29.3-54.6 1.3-1.1 3-1.5 4.6-1.2 3.1.6 5.1 3.5 4.6 6.6-3 16.8-1.2 34.2 5.2 50 .4.9.7 1.9.9 2.9 19.5 7.7 32.3 26.5 32.3 47.5v29.8c0 15.6-12.7 28.3-28.3 28.3h-78c-1.6 0-2.8-1.3-2.8-2.8 0-1.6 1.3-2.8 2.8-2.8h78c12.5 0 22.7-10.2 22.7-22.7v-29.8c0-25-20.3-45.4-45.3-45.4H136c-50.1 0-90.7 40.6-90.7 90.7v19.8c0 50.1 40.6 90.7 90.7 90.7h90.7c50.1 0 90.7-40.6 90.7-90.7v-90.7c.1-50.2-40.5-90.9-90.6-90.9zm-78 119.8c0-13.5 11-24.4 24.5-24.4s24.4 11 24.4 24.5-11 24.4-24.5 24.4c-13.4 0-24.4-11-24.4-24.5z" fill="#eceeee"/><path d="M161.7 108.3c-12.1-13.5-20.2-30.1-23.4-48-4.5 19.5-6.8 39.5-6.8 59.6a17.31 17.31 0 0 0 17.3 17.3 17.31 17.31 0 0 0 17.3-17.3c0-4.4-1.6-8.5-4.4-11.6zm51.5 3.7c-6.3-16.5-8.1-34.3-5-51.7C193.1 73 183.3 91 181 110.6h20.3c4 0 8 .4 11.9 1.4z" fill="#8ae234"/></svg>
              {% elif project.icon == "phel" %}
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200.3 167.7"><path d="M6 66l95 96h36V93l-36-74H42L6 56v106h36l24-35" fill="none" stroke="#512da8" stroke-width="8"/><path d="M137 93l58-3-12-58-32-26h-34l-16 13-23 9-12 22 46 52z" fill="none" stroke="#512da8" stroke-width="8"/><path d="M195 90l-12 57h-13l-2-56m2 56l-13-11h12" fill="none" stroke="#512da8" stroke-width="8"/></svg>
              {% elif project.icon == "gacela" %}
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 480"><g fill="none" stroke="#5a9fd4" stroke-width="8" stroke-linejoin="round"><path d="M5.9,287.9 24.8,229.5 58.4,205.4 43.6,242z"/><path d="M12.6,462.5 29.1,442.1 32,469.2z"/><path d="M27.1,330.5 33.9,345.4 50.4,346.9 29.1,442.1 12.6,462.5z"/><path d="M55.4,262.7 83.5,217.2 147.9,214.9 120.9,292.2 50.4,346.9 33.9,345.4 27.1,330.5z"/><path d="M58.4,205.4 83.5,217.2 55.4,262.7 43.6,242z"/><path d="M71.9,343.9 98.8,348.1 111,439.2 103.6,461.9z"/><path d="M111,439.2 121.9,461.9 103.6,461.9z"/><path d="M120.9,292.2 218.8,302.7 229.3,267.4 264.4,232.2 147.9,214.9z"/><path d="M144.5,294.9 120.9,292.2 71.9,330.3 71.9,343.9 98.8,348.1z"/><path d="M176.9,467.3 195.1,448 228.7,367.2 207.6,367.2 202.8,356.8z"/><path d="M176.9,467.7 195.1,448 199.1,472.5z"/><path d="M202.8,356.8 229.3,267.4 264.4,232.2 285.5,273.2 228.7,367.2 207.6,367.2z"/><path d="M272.3,16.2 376.8,61.5 405.4,106.3 390.4,136.3 383.5,132.1 384.6,121.9 363.5,68.7z"/><path d="M293.1,9.4 386.3,60.6 412.3,101.7 405.4,106.3 376.8,61.5 340.4,45.7z"/><path d="M302.9,177.3 147.9,214.9 83.5,217.2 58.4,205.4 133.5,179.7z"/><path d="M302.9,177.3 379.2,108.2 384.6,121.9 383.5,132.1 390.4,136.3 338.1,192.9z"/><path d="M303.3,368.6 274.2,297.1 310,267.1 325.5,351.3z"/><path d="M325.5,351.3 354.6,445.2 344.4,462.2 303.3,368.6z"/><path d="M338.1,192.9 264.4,232.2 147.9,214.9 302.9,177.3z"/><path d="M344.4,462.2 354.6,445.2 362.3,462.2z"/><path d="M365.3,220.7 267.6,302.7 285.5,273.2 264.4,232.2 338.1,192.9z"/><path d="M365.3,220.7 410.9,165.5 390.4,136.3 338.1,192.9z"/><path d="M390.4,136.3 383.5,132.1 389.4,78.9 400.3,116.6z"/><path d="M410.9,165.5 475.6,166.2 390.4,136.3z"/><path d="M412.3,101.7 433,124.8 482.2,151.3 475.6,166.2 390.4,136.3 405.4,106.3z"/><path d="M414.5,77 409.2,96.7 405.6,91z"/></g></svg>
              {% endif %}
            </span>
            <div class="project-title">
              <h3>{{ project.name }}</h3>
              <span class="github-stars"><i class="fa-solid fa-star"></i> <span class="star-count"></span></span>
            </div>
          </div>
          <p>{{ project.description }}</p>
          <div class="project-meta">
            {% if project.tech %}
            <div class="tech-badges">
              {% for tech in project.tech %}
              <span class="tech-badge tech-badge--{{ tech | lower }}">
                {% if tech == "PHP" %}<i class="fa-brands fa-php"></i>
                {% elif tech == "Bash" %}<i class="fa-solid fa-terminal"></i>
                {% elif tech == "Lisp" %}<i class="fa-solid fa-code"></i>
                {% elif tech == "Python" %}<i class="fa-brands fa-python"></i>
                {% elif tech == "Vue" %}<i class="fa-brands fa-vuejs"></i>
                {% elif tech == "Go" %}<i class="fa-brands fa-golang"></i>
                {% elif tech == "TypeScript" %}<i class="fa-brands fa-js"></i>
                {% elif tech == "Phel" %}<i class="fa-solid fa-code"></i>
                {% else %}<i class="fa-solid fa-code"></i>{% endif %}
                {{ tech }}
              </span>
              {% endfor %}
            </div>
            {% endif %}
            {% if project.type %}
            <span class="project-type">
              {% if project.type == "library" %}<i class="fa-solid fa-cube"></i>
              {% elif project.type == "tool" %}<i class="fa-solid fa-wrench"></i>
              {% elif project.type == "app" %}<i class="fa-solid fa-rocket"></i>
              {% elif project.type == "website" %}<i class="fa-solid fa-globe"></i>
              {% elif project.type == "language" %}<i class="fa-solid fa-language"></i>
              {% elif project.type == "docs" %}<i class="fa-solid fa-book"></i>
              {% endif %}
              {{ project.type }}
            </span>
            {% endif %}
            {% if project.status %}
            <span class="project-status project-status--{{ project.status | lower }}">{{ project.status }}</span>
            {% endif %}
          </div>
        </a>
        {% endfor %}
      </div>
    </div>

    <!-- More Projects Tab -->
    <div class="tab-panel" id="more" role="tabpanel" aria-labelledby="btn-more">
      <div class="projects-personal__grid">
        {% for project in section.extra.projects %}
        <a href="https://github.com/{{ project.github }}" target="_blank" rel="noopener noreferrer" class="project-card project-card--simple{% if project.featured %} project-card--highlight{% endif %}{% if project.hide_on_tablet %} project-card--hiddable{% endif %}" data-repo="{{ project.github }}">
          <div class="project-card__header">
            <h3>{{ project.name }}</h3>
            <div class="project-card__meta">
              {% if project.status %}
              <span class="project-status project-status--small project-status--{{ project.status | lower }}">{{ project.status }}</span>
              {% endif %}
              <span class="github-stars"><i class="fa-solid fa-star"></i> <span class="star-count"></span></span>
            </div>
          </div>
          <p>{{ project.description }}</p>
          <div class="project-card__footer">
            {% if project.tech %}
            <div class="tech-badges tech-badges--small">
              {% for tech in project.tech %}
              <span class="tech-badge tech-badge--{{ tech | lower }}">
                {% if tech == "PHP" %}<i class="fa-brands fa-php"></i>
                {% elif tech == "Bash" %}<i class="fa-solid fa-terminal"></i>
                {% elif tech == "Python" %}<i class="fa-brands fa-python"></i>
                {% elif tech == "Vue" %}<i class="fa-brands fa-vuejs"></i>
                {% elif tech == "Go" %}<i class="fa-brands fa-golang"></i>
                {% elif tech == "Phel" %}<i class="fa-solid fa-code"></i>
                {% else %}<i class="fa-solid fa-code"></i>{% endif %}
              </span>
              {% endfor %}
            </div>
            {% endif %}
            {% if project.tags %}
            <div class="project-card__tags">
              {% for tag in project.tags %}
              <span class="project-tag">{{ tag }}</span>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </a>
        {% endfor %}
      </div>
    </div>

    <!-- Websites Tab -->
    <div class="tab-panel" id="websites" role="tabpanel" aria-labelledby="btn-websites">
      <div class="projects-personal__grid">
        {% for website in section.extra.websites %}
        <a href="{{ website.url }}" target="_blank" rel="noopener noreferrer" class="project-card project-card--simple{% if website.hide_on_tablet %} project-card--hiddable{% endif %}">
          <div class="project-card__header">
            <h3>{{ website.name }}</h3>
            <div class="project-card__meta">
              <span class="project-card__github-link" onclick="event.preventDefault(); event.stopPropagation(); window.open('https://github.com/{{ website.github }}', '_blank');" title="{% if lang == 'es' %}Ver código en GitHub{% else %}View source on GitHub{% endif %}">
                <i class="fa-brands fa-github"></i>
              </span>
            </div>
          </div>
          <p>{{ website.description }}</p>
          <div class="project-card__footer">
            {% if website.tech %}
            <div class="tech-badges tech-badges--small">
              {% for tech in website.tech %}
              <span class="tech-badge tech-badge--{{ tech | lower }}">
                {% if tech == "Vue" %}<i class="fa-brands fa-vuejs"></i>
                {% elif tech == "Zola" %}<i class="fa-solid fa-bolt"></i>
                {% elif tech == "SCSS" %}<i class="fa-brands fa-sass"></i>
                {% else %}<i class="fa-solid fa-code"></i>{% endif %}
              </span>
              {% endfor %}
            </div>
            {% endif %}
            <div class="project-card__tags">
              <span class="project-tag project-tag--live"><i class="fa-solid fa-circle"></i> Live</span>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- Optional: Page content from markdown -->
  {% if section.content %}
  <section class="projects-content">
    {{ section.content | safe }}
  </section>
  {% endif %}
</article>

{% endblock content %}

{% block js %}
<script type="text/javascript" src="{{ get_url(path='github-stars.js') | safe }}" defer></script>
<script>
const tabs = document.querySelectorAll('.tab-btn');
const panels = document.querySelectorAll('.tab-panel');

function switchTab(newTab) {
  tabs.forEach(t => {
    t.classList.remove('active');
    t.setAttribute('aria-selected', 'false');
    t.setAttribute('tabindex', '-1');
  });
  panels.forEach(p => p.classList.remove('active'));

  newTab.classList.add('active');
  newTab.setAttribute('aria-selected', 'true');
  newTab.setAttribute('tabindex', '0');
  newTab.focus();
  document.getElementById(newTab.dataset.tab).classList.add('active');
}

tabs.forEach(btn => {
  btn.addEventListener('click', () => switchTab(btn));

  btn.addEventListener('keydown', (e) => {
    const tabArray = Array.from(tabs);
    const index = tabArray.indexOf(btn);

    if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
      e.preventDefault();
      const nextIndex = e.key === 'ArrowRight'
        ? (index + 1) % tabArray.length
        : (index - 1 + tabArray.length) % tabArray.length;
      switchTab(tabArray[nextIndex]);
    }
  });
});
</script>
{% endblock js %}
