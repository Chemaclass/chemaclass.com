<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <style>
      :root {
        --accent-color: #05a081;
        --accent-color-light: #82d0c0;
      }
    </style>

    <meta name="theme-color" content="#05a081" />

    
      <link rel="icon" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;444e76059742f47b00.png" />
      <link rel="apple-touch-icon" sizes="48x48" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;444e76059742f47b00.png" />
      <link rel="apple-touch-icon" sizes="72x72" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;6dfeb9b0bd094d5a00.png" />
      <link rel="apple-touch-icon" sizes="96x96" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;3959b3b31b7ae92700.png" />
      <link rel="apple-touch-icon" sizes="144x144" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;e644b27af091684500.png" />
      <link rel="apple-touch-icon" sizes="192x192" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;3344ee474c2d849c00.png" />
      <link rel="apple-touch-icon" sizes="256x256" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;d92103ca49c6bd5e00.png" />
      <link rel="apple-touch-icon" sizes="384x384" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;b8dd2689e662c9cd00.png" />
      <link rel="apple-touch-icon" sizes="512x512" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;c0d9496000275d3400.png" />
    

    

    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary">

    

    

    
      
        <meta name="description" content="Chema&#x27;s blog." />
        <meta name="twitter:description" content="Chema&#x27;s blog.">
      
    

    
      <meta name="twitter:title" content="Strict Types in PHP">
    

    
      <link rel="prerender" href="&#x2F;about&#x2F;" />
    
      <link rel="prerender" href="&#x2F;blog&#x2F;" />
    

    <link rel="prefetch" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;53af5229a2f8852200.png" />

    <title>
      
        
          Strict Types in PHP
        
      
    </title>

    
    
      <link rel="stylesheet" href="https://chemaclass.es/main.css">
    
    
  
    <link rel="prerender" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;blog&#x2F;art-refactoring&#x2F;">
  

  
    <link rel="prerender" href="https:&#x2F;&#x2F;chemaclass.es&#x2F;blog&#x2F;the-process-itself-is-the-goal&#x2F;">
  

  
    <link rel="prerender"  href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;software&#x2F;">
  
    <link rel="prerender"  href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;php&#x2F;">
  
    <link rel="prerender"  href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;strict-types&#x2F;">
  

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://google.com/article"
      },
      "headline": "Strict Types in PHP",
      "image": [],
      "datePublished": "2020-08-09T00:00:00+00:00",
      "dateModified": "2020-08-09T00:00:00+00:00"
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        

        
        {
          
          "@type": "ListItem",
          "position": 1,
          "name": "Chemaclass | Jose Maria Valera Reales",
          "item": "https://chemaclass.es/"
        },
        
        {
          
          "@type": "ListItem",
          "position": 2,
          "name": "",
          "item": "https://chemaclass.es/blog/"
        },
        
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Strict Types in PHP",
          "item": "https://chemaclass.es/blog/strict-types/"
        }
      ]
    }
  </script>

  </head>
  <body>
    
      <header>
        <a class="profile-icon" href="/">
          <img src="https:&#x2F;&#x2F;chemaclass.es&#x2F;processed_images&#x2F;53af5229a2f8852200.png" alt="profile picture">
        </a>
        <nav>
          
            <a href="&#x2F;about&#x2F;">About</a>
          
            <a href="&#x2F;blog&#x2F;">Blog</a>
          
        </nav>
      </header>
    
    <main>
    
  <div class="post-title">
    <h1>Strict Types in PHP</h1>
    <small>
      August 09, 2020
      
        - 
        <span class="tags">
          
            <a href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;software&#x2F;">software</a>
          
            <a href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;php&#x2F;">php</a>
          
            <a href="https:&#x2F;&#x2F;chemaclass.es&#x2F;tags&#x2F;strict-types&#x2F;">strict-types</a>
          
        </span>
      
    </small>
  </div>

  <div>
    <p>In December 2015, PHP 7 introduced scalar type declarations and with it the strict types flag.</p>
<blockquote>
<p>To enable the strict mode, a single declare directive must be placed at the top of the file. This means that the strictness of typing for scalars is configured on a per-file basis. This directive not only affects the type declarations of parameters, but also a function’s return type.</p>
</blockquote>
<p>The good thing about declaring a PHP file as strict is that it actually applies to <strong>ONLY the current file</strong>. It ensures that this file has strict types, but it doesn’t apply to any other file in the whole project. It allows you to do, step by step, this migration from non-strict code to strict code, especially for new files or projects.</p>
<h2 id="strict-types-affect-coercion-types">Strict types affect coercion types</h2>
<p>Using hint type without <code>strict_types</code> may lead to subtle bugs.</p>
<p>Without this, <code>int $x</code> meant <code>$x must have a value coercible to an int</code>. Any value that could be coerced to an int would pass the hint type, including:</p>
<ul>
<li>a proper <code>int</code> (example: 42 -&gt; 42)</li>
<li>a <code>float</code> (example: 13.1459 -&gt; 13)</li>
<li>a <code>bool</code> (example: true -&gt; 1)</li>
<li>a <code>null</code> (example: null -&gt; 0)</li>
<li>a <code>string</code> with leading digits (example: “15 Trees” -&gt; 15)</li>
</ul>
<p>By setting <code>strict_types=1</code>, you tell the engine that int $x means $x must only be an int proper, no type coercion allowed. You have the great assurance you're getting exactly and only what was given, without any conversion or potential loss.</p>
<h2 id="who-should-care-about-this-strict-type-line">Who should care about this “strict type” line?</h2>
<p>Actually, declare(strict_types=1); is more for the reader than for the writer. Why? Because it will explicitly tell the reader:</p>
<ul>
<li>The types in this current scope (file/class) are treated strictly.</li>
</ul>
<h2 id="strict-types-1-is-more-for-the-reader-than-for-the-writer">'strict_types=1' is more for the reader than for the writer</h2>
<p>The writer just needs to maintain such strictness while writing the expected behavior. That said, as a writer, you should care about your readers, which also includes your future self. Because you are going to be one of them.</p>
<hr />
<h2 id="references">References</h2>
<ul>
<li><a href="https://php.chemaclass.com/technical-skills/strict-types.html">PHP Best Practices</a></li>
<li><a href="https://www.php.net/manual/en/migration70.new-features.php#migration70.new-features.scalar-type-declarations">Scalar type declarations</a></li>
<li><a href="https://stackoverflow.com/questions/48723637/what-do-strict-types-do-in-php/48723830#48723830">What do strict types do in PHP</a></li>
</ul>

  </div>

  <hr class="footer-rule" />

  
    <div class="footer-about">
      <p>I love writing about stuff that I find interesting and bring some value to my life,<br>
so I can share them with you.</p>

    </div>
  

  <div class="related-container">

    
      <div class="link">
        Previous <br />
        <a href="https:&#x2F;&#x2F;chemaclass.es&#x2F;blog&#x2F;art-refactoring&#x2F;">The art of refactoring</a>
      </div>
    

    
      <div class="link">
        Next <br />
        <a href="https:&#x2F;&#x2F;chemaclass.es&#x2F;blog&#x2F;the-process-itself-is-the-goal&#x2F;">The process itself is the goal</a>
      </div>
    

  </div>


    </main>
  </body>
</html>
